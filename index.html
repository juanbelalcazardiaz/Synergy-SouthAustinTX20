<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Synergy Homecare Intelligence</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F8F9; /* Slightly cooler light gray */
            color: #18181B;
            -webkit-font-smoothing: antialiased;
        }

        /* Premium Card Styling */
        .card {
            background: #FFFFFF;
            border: 1px solid #E4E4E7;
            box-shadow: 0 1px 3px rgba(0,0,0,0.02), 0 4px 8px rgba(0,0,0,0.02);
            border-radius: 16px; /* softer corners */
            padding: 24px;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Hover Lift Effect (Desktop Only) */
        @media (hover: hover) {
            .card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04);
                border-color: #D4D4D8;
            }
        }

        /* Notion-like Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #E4E4E7;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #A1A1AA;
        }

        /* Print Styles for PDF Export */
        @media print {
            @page { margin: 1cm; size: landscape; }
            .no-print {
                display: none !important;
            }
            body {
                background-color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .card {
                box-shadow: none !important;
                border: 1px solid #E4E4E7 !important;
                break-inside: avoid;
                page-break-inside: avoid;
                margin-bottom: 16px;
                transform: none !important; /* Disable lift on print */
            }
            aside {
                display: none !important;
            }
            main {
                margin-left: 0 !important;
                width: 100% !important;
                padding: 0 !important;
            }
            /* Clean up header for print */
            header {
                position: static !important;
                background: white !important;
                border-bottom: 1px solid #E4E4E7 !important;
                backdrop-filter: none !important;
                padding: 0 0 20px 0 !important;
                height: auto !important;
            }
            canvas {
                max-width: 100% !important;
            }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "recharts": "https://aistudiocdn.com/recharts@^3.5.0"
  }
}
</script>
</head>
<body class="flex min-h-screen selection:bg-blue-100 selection:text-blue-900">

    <!-- Mobile Sidebar Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black/20 z-40 hidden lg:hidden backdrop-blur-sm transition-opacity" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed lg:sticky top-0 h-screen z-50 w-72 bg-white/95 backdrop-blur-xl border-r border-zinc-200 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 cubic-bezier(0.4, 0, 0.2, 1) flex flex-col no-print">
        <div class="p-6 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-sm flex items-center justify-center text-white font-bold text-lg">S</div>
                <span class="font-bold text-xl tracking-tight text-zinc-900">Synergy</span>
            </div>
            <button onclick="toggleSidebar()" class="lg:hidden text-zinc-400 hover:text-zinc-700">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>

        <nav class="px-4 py-4 space-y-1 flex-1">
            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-blue-700 bg-blue-50/80 rounded-lg ring-1 ring-blue-100/50">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="opacity-80"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                Dashboard
            </a>
            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-zinc-600 hover:text-zinc-900 hover:bg-zinc-50 rounded-lg transition-colors group">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400 group-hover:text-zinc-600 transition-colors"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                Candidates
            </a>
            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-zinc-600 hover:text-zinc-900 hover:bg-zinc-50 rounded-lg transition-colors group">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400 group-hover:text-zinc-600 transition-colors"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                Reports
            </a>
            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-zinc-600 hover:text-zinc-900 hover:bg-zinc-50 rounded-lg transition-colors group">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400 group-hover:text-zinc-600 transition-colors"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                Settings
            </a>
        </nav>

        <div class="p-4 border-t border-zinc-100 bg-zinc-50/50">
            <div class="flex items-center gap-3 group cursor-pointer">
                <div class="relative">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-zinc-200 to-zinc-100 flex items-center justify-center text-xs font-semibold text-zinc-600 ring-2 ring-white">
                        MA
                    </div>
                    <span class="absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"></span>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-semibold text-zinc-900 truncate group-hover:text-blue-600 transition-colors">Mariana Arevalo</p>
                    <p class="text-xs text-zinc-500 truncate">Recruiter</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 w-full flex flex-col min-w-0 bg-[#F8F8F9]">
        <!-- Sticky Glassmorphism Header -->
        <header class="h-16 sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-zinc-200/60 flex items-center justify-between px-6 lg:px-8 transition-all duration-200">
            <button onclick="toggleSidebar()" class="lg:hidden text-zinc-500 hover:text-zinc-700">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
            
            <div class="hidden md:flex items-center text-sm text-zinc-500">
                <span class="hover:text-zinc-800 transition-colors cursor-pointer">Dashboard</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="mx-2 opacity-50"><polyline points="9 18 15 12 9 6"></polyline></svg>
                <span class="text-zinc-900 font-medium bg-zinc-100/80 px-2 py-0.5 rounded-md">Q4 Reporting</span>
            </div>

            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 text-xs font-medium text-emerald-600 bg-emerald-50/80 border border-emerald-100 px-2.5 py-1 rounded-full">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                    </span>
                    Live Updates
                </div>
            </div>
        </header>

        <!-- Dashboard Body -->
        <div class="p-6 md:p-8 space-y-8 max-w-[1600px] mx-auto w-full">
            
            <!-- Controls & Title -->
            <div class="flex flex-col md:flex-row md:items-end justify-between gap-4">
                <div>
                    <h1 class="text-3xl font-bold text-zinc-900 tracking-tight">Recruitment Intelligence</h1>
                    <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6 mt-2 text-sm text-zinc-500">
                        <p class="flex items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                            <span class="font-medium text-zinc-700">Mariana Marcela Arevalo</span>
                        </p>
                        <span class="hidden sm:inline w-1 h-1 bg-zinc-300 rounded-full"></span>
                        <p class="flex items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-zinc-400"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                            <span class="font-medium text-zinc-700">Oct 1, 2025 – Nov 23, 2025</span>
                        </p>
                    </div>
                </div>
                
                <button onclick="window.print()" class="group inline-flex items-center justify-center gap-2 px-4 py-2 bg-white border border-zinc-200 text-zinc-700 text-sm font-medium rounded-lg shadow-sm hover:bg-zinc-50 hover:border-zinc-300 transition-all no-print">
                    <svg class="w-4 h-4 text-zinc-500 group-hover:text-zinc-800 transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1 2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                    Export to PDF
                </button>
            </div>

            <!-- KPI Grid -->
            <div id="kpi-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
                <!-- KPIs injected via JS -->
            </div>

            <!-- Recruiter Assigned Goals Section (Polished) -->
            <div>
                <div class="flex items-center gap-3 mb-4">
                    <div class="p-1.5 bg-indigo-50 rounded-lg">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-indigo-600"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </div>
                    <h3 class="text-zinc-900 font-bold text-lg tracking-tight">Assigned Performance Targets</h3>
                </div>
                <div id="goals-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Goals injected via JS -->
                </div>
            </div>

            <!-- Charts Row 1 -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="card lg:col-span-2 flex flex-col">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h3 class="text-zinc-900 font-bold text-lg tracking-tight">Application Velocity</h3>
                            <p class="text-sm text-zinc-500 mt-1">Applications Over Time (Weekly)</p>
                        </div>
                        <div class="bg-zinc-50 rounded-md p-1 flex text-xs font-medium text-zinc-600">
                            <span class="px-2 py-1 bg-white shadow-sm rounded-sm">Weekly</span>
                            <span class="px-2 py-1 text-zinc-400 hover:text-zinc-600 cursor-pointer">Monthly</span>
                        </div>
                    </div>
                    <div class="relative flex-1 min-h-[300px] w-full">
                        <canvas id="velocityChart"></canvas>
                    </div>
                </div>

                <div class="card flex flex-col">
                    <div class="mb-6">
                        <h3 class="text-zinc-900 font-bold text-lg tracking-tight">Pipeline Volume</h3>
                        <p class="text-sm text-zinc-500 mt-1">Current Candidate Status</p>
                    </div>
                    <div class="relative flex-1 min-h-[300px] w-full">
                        <canvas id="pipelineChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Charts Row 2 & Insights -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="card flex flex-col">
                    <div class="mb-6">
                        <h3 class="text-zinc-900 font-bold text-lg tracking-tight">Job Role Distribution</h3>
                        <p class="text-sm text-zinc-500 mt-1">Applicants by Role</p>
                    </div>
                    <div class="relative h-56 w-full flex items-center justify-center">
                        <canvas id="roleChart"></canvas>
                    </div>
                    <div class="mt-8 text-center bg-zinc-50 rounded-xl p-4 border border-zinc-100">
                        <p class="text-xs text-zinc-500 uppercase tracking-widest font-semibold">Primary Role</p>
                        <p class="text-3xl font-bold text-zinc-900 mt-1 tracking-tight">78%</p>
                        <p class="text-sm font-medium text-zinc-600 mt-1">Caregivers</p>
                    </div>
                </div>

                <div class="card lg:col-span-2 flex flex-col">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h3 class="text-zinc-900 font-bold text-lg tracking-tight">Funnel Performance</h3>
                            <p class="text-sm text-zinc-500 mt-1">Detailed breakdown by position</p>
                        </div>
                        <button class="text-sm text-blue-600 font-medium hover:text-blue-800 transition-colors">View All roles</button>
                    </div>
                    
                    <div class="overflow-x-auto flex-1">
                        <table class="w-full text-left text-sm border-separate border-spacing-y-2">
                            <thead class="text-zinc-400">
                                <tr>
                                    <th class="px-4 pb-2 font-medium text-xs uppercase tracking-wider">Job Role</th>
                                    <th class="px-4 pb-2 font-medium text-xs uppercase tracking-wider text-right">New Apps</th>
                                    <th class="px-4 pb-2 font-medium text-xs uppercase tracking-wider text-right">Interviewed</th>
                                    <th class="px-4 pb-2 font-medium text-xs uppercase tracking-wider text-right">Offers Made</th>
                                    <th class="px-4 pb-2 font-medium text-xs uppercase tracking-wider text-right">Conversion</th>
                                </tr>
                            </thead>
                            <tbody id="funnel-table-body">
                                <!-- Rows injected via JS -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Enhanced Insights Box -->
                    <div class="mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl p-5 shadow-sm">
                        <h4 class="text-blue-900 font-bold text-sm mb-3 flex items-center gap-2">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                            AI Generated Insights
                        </h4>
                        <ul class="text-sm text-blue-800 space-y-2 pl-1">
                            <li class="flex items-start gap-2">
                                <span class="block w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 shrink-0"></span>
                                <span><strong>Caregivers</strong> show an exceptionally high interview-to-offer rate (96%).</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="block w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 shrink-0"></span>
                                <span><strong>Oct 5th</strong> was the peak application week (10 apps).</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="block w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 shrink-0"></span>
                                <span><strong>Backup Childcare</strong> pipeline needs replenishment (only 1 interview).</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- Constants & Data ---
        const COLORS = {
            primary: '#3B82F6', // Brighter Blue for Primary
            primaryLight: '#93C5FD',
            secondary: '#A1A1AA', // Neutral Gray
            success: '#10B981', // Emerald
            accent: '#8B5CF6', // Violet
            text: '#18181B'
        };

        const KPI_DATA = [
            { label: 'Total Applicants', value: 45, trend: 'neutral' },
            { label: 'Interviews Conducted', value: 25, trend: 'up' },
            { label: 'Offers Extended', value: 24, subtext: 'High Conversion', trend: 'up', color: 'text-emerald-600' },
            { label: 'App → Interview', value: '55.6%', trend: 'neutral' },
            { label: 'Interview → Offer', value: '96%', subtext: 'Top Performance', trend: 'up', color: 'text-emerald-600' },
        ];

        // NEW: KPIs assigned to the recruiter
        const RECRUITER_GOALS = [
            { 
                title: "Interview Volume", 
                target: 40, 
                current: 25, 
                unit: "interviews",
                status: "Needs Attention",
                statusColor: "text-amber-700 bg-amber-50 border border-amber-100",
                barColor: "bg-gradient-to-r from-amber-400 to-amber-500",
                icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>'
            },
            { 
                title: "Quality Rate", 
                target: 80, 
                current: 96, 
                unit: "% Offer Rate",
                status: "Exceeding Target",
                statusColor: "text-emerald-700 bg-emerald-50 border border-emerald-100",
                barColor: "bg-gradient-to-r from-emerald-400 to-emerald-500",
                icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>'
            },
            { 
                title: "SLA: Response Time", 
                target: 24, 
                current: 2, 
                unit: "Hours (Avg)",
                status: "Exceeding Target",
                statusColor: "text-emerald-700 bg-emerald-50 border border-emerald-100",
                barColor: "bg-gradient-to-r from-emerald-400 to-emerald-500",
                isInverse: true,
                icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>'
            }
        ];

        const VELOCITY_DATA = {
            labels: ['Sep 28', 'Oct 5', 'Oct 12', 'Oct 19', 'Oct 26', 'Nov 2', 'Nov 9', 'Nov 16', 'Nov 23'],
            data: [2, 10, 5, 7, 10, 6, 3, 1, 1]
        };

        const PIPELINE_DATA = {
            labels: ['Sent Documents', 'In Communication', 'Documents Signed', 'Initial Contact', 'New', 'Interview Scheduled'],
            data: [12, 7, 7, 6, 4, 2]
        };

        const ROLE_DATA = {
            labels: ['Caregiver', 'Backup Childcare Provider'],
            data: [35, 10]
        };

        const TABLE_DATA = [
            { role: 'Caregiver', newApps: 4, interviews: 25, offers: 24 },
            { role: 'Backup Childcare Provider', newApps: 2, interviews: 1, offers: 0 }
        ];

        // --- Render Functions ---

        function renderKPIs() {
            const container = document.getElementById('kpi-grid');
            container.innerHTML = KPI_DATA.map(kpi => `
                <div class="card p-5 flex flex-col justify-between group cursor-default">
                    <div>
                        <p class="text-[11px] font-bold text-zinc-400 uppercase tracking-widest mb-3">${kpi.label}</p>
                        <div class="flex items-baseline gap-2">
                            <span class="text-3xl font-bold ${kpi.color || 'text-zinc-900'} tracking-tight">${kpi.value}</span>
                            ${kpi.trend === 'up' ? '<span class="text-emerald-500 text-sm transform translate-y-[-2px]">↑</span>' : ''}
                        </div>
                    </div>
                    ${kpi.subtext ? `<div class="mt-3"><span class="text-[10px] font-bold text-emerald-700 bg-emerald-50 border border-emerald-100 px-2 py-1 rounded-full uppercase tracking-wide">${kpi.subtext}</span></div>` : ''}
                </div>
            `).join('');
        }

        function renderGoals() {
            const container = document.getElementById('goals-grid');
            container.innerHTML = RECRUITER_GOALS.map(goal => {
                let percentage = (goal.current / goal.target) * 100;
                if (goal.isInverse) {
                    percentage = goal.current <= goal.target ? 100 : (goal.target / goal.current) * 100;
                }
                if (percentage > 100) percentage = 100;

                return `
                <div class="card p-6 relative overflow-hidden group">
                    <div class="flex justify-between items-start mb-5">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-lg bg-zinc-50 flex items-center justify-center text-zinc-500">
                                ${goal.icon}
                            </div>
                            <div>
                                <p class="text-sm font-bold text-zinc-900 tracking-tight">${goal.title}</p>
                                <p class="text-xs text-zinc-500">Target: ${goal.target}</p>
                            </div>
                        </div>
                        <span class="text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider ${goal.statusColor}">
                            ${goal.status}
                        </span>
                    </div>
                    
                    <div class="flex items-baseline gap-1.5 mb-3">
                        <span class="text-3xl font-bold text-zinc-900 tracking-tight">${goal.current}</span>
                        <span class="text-xs font-medium text-zinc-400 uppercase tracking-wide">${goal.unit}</span>
                    </div>

                    <div class="w-full bg-zinc-100 rounded-full h-2.5 overflow-hidden">
                        <div class="${goal.barColor} h-full rounded-full transition-all duration-1000 ease-out relative" style="width: ${percentage}%">
                            <div class="absolute inset-0 bg-white/20"></div>
                        </div>
                    </div>
                </div>
            `}).join('');
        }

        function renderTable() {
            const tbody = document.getElementById('funnel-table-body');
            tbody.innerHTML = TABLE_DATA.map((row, index) => {
                const conversion = row.interviews > 0 ? Math.round((row.offers / row.interviews) * 100) : 0;
                const badgeClass = conversion > 50 
                    ? 'bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200' 
                    : 'bg-zinc-100 text-zinc-600 ring-1 ring-zinc-200';
                
                return `
                    <tr class="group hover:bg-zinc-50/80 transition-colors">
                        <td class="px-4 py-4 first:rounded-l-lg last:rounded-r-lg">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-lg ${index === 0 ? 'bg-blue-100 text-blue-600' : 'bg-purple-100 text-purple-600'} flex items-center justify-center text-xs font-bold">
                                    ${row.role.charAt(0)}
                                </div>
                                <span class="font-semibold text-zinc-700 group-hover:text-zinc-900 transition-colors">${row.role}</span>
                            </div>
                        </td>
                        <td class="px-4 py-4 text-right font-medium text-zinc-600">${row.newApps}</td>
                        <td class="px-4 py-4 text-right font-medium text-zinc-600">${row.interviews}</td>
                        <td class="px-4 py-4 text-right font-medium text-zinc-600">${row.offers}</td>
                        <td class="px-4 py-4 text-right first:rounded-l-lg last:rounded-r-lg">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold ${badgeClass}">
                                ${conversion}%
                            </span>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // --- Chart Initialization ---

        function initCharts() {
            Chart.defaults.font.family = "'Inter', sans-serif";
            Chart.defaults.color = '#71717A';
            Chart.defaults.scale.grid.color = '#F4F4F5';
            
            Chart.defaults.animation = false;
            Chart.defaults.responsive = true;
            
            // Velocity Chart (Line)
            const ctxVelocity = document.getElementById('velocityChart').getContext('2d');
            
            // Create gradient
            const gradientVelocity = ctxVelocity.createLinearGradient(0, 0, 0, 300);
            gradientVelocity.addColorStop(0, 'rgba(59, 130, 246, 0.2)');
            gradientVelocity.addColorStop(1, 'rgba(59, 130, 246, 0)');

            new Chart(ctxVelocity, {
                type: 'line',
                data: {
                    labels: VELOCITY_DATA.labels,
                    datasets: [{
                        label: 'Applications',
                        data: VELOCITY_DATA.data,
                        borderColor: COLORS.primary,
                        backgroundColor: gradientVelocity,
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: COLORS.primary,
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointHoverBorderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#18181B',
                            titleColor: '#fff',
                            bodyColor: '#D4D4D8',
                            padding: 12,
                            cornerRadius: 8,
                            displayColors: false,
                            titleFont: { weight: 600 },
                            bodyFont: { weight: 500 }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { display: false },
                            border: { display: false }
                        },
                        x: {
                            grid: { color: '#F4F4F5', drawBorder: false },
                            border: { display: false }
                        }
                    }
                }
            });

            // Pipeline Chart (Bar)
            new Chart(document.getElementById('pipelineChart'), {
                type: 'bar',
                data: {
                    labels: PIPELINE_DATA.labels,
                    datasets: [{
                        label: 'Candidates',
                        data: PIPELINE_DATA.data,
                        backgroundColor: (context) => {
                            // Subtle gradient effect for bars
                            return context.index % 2 === 0 ? COLORS.primary : '#CBD5E1';
                        },
                        borderRadius: 6,
                        barThickness: 20
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#18181B',
                            padding: 12,
                            cornerRadius: 8,
                            displayColors: false
                        }
                    },
                    scales: {
                        x: { display: false },
                        y: {
                            grid: { display: false },
                            border: { display: false },
                            ticks: {
                                color: '#52525B',
                                font: { weight: 500, size: 11 }
                            }
                        }
                    }
                }
            });

            // Role Chart (Doughnut)
            new Chart(document.getElementById('roleChart'), {
                type: 'doughnut',
                data: {
                    labels: ROLE_DATA.labels,
                    datasets: [{
                        data: ROLE_DATA.data,
                        backgroundColor: [COLORS.primary, COLORS.accent],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '80%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { usePointStyle: true, boxWidth: 8, padding: 20, font: { size: 12 } }
                        },
                        tooltip: {
                            backgroundColor: '#18181B',
                            padding: 12,
                            cornerRadius: 8
                        }
                    }
                }
            });
        }

        // --- Interaction ---
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            const isClosed = sidebar.classList.contains('-translate-x-full');
            
            if (isClosed) {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
            } else {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 300);
            }
        }

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderKPIs();
            renderGoals(); 
            renderTable();
            initCharts();
        });

    </script>
</body>
</html>